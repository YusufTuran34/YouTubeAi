package com.youtube.ai.scheduler.model;

import java.util.*;

public class ActionCatalog {
    
    public enum ActionCategory {
        VIDEO_PRODUCTION("üé¨ Video Production"),
        SOCIAL_MEDIA("üì± Social Media"),
        STREAMING("üì∫ Streaming"),
        CONTENT_MANAGEMENT("üìÑ Content Management"),
        UTILITIES("üîß Utilities"),
        WORKFLOWS("üîÑ Workflows");
        
        private final String displayName;
        
        ActionCategory(String displayName) {
            this.displayName = displayName;
        }
        
        public String getDisplayName() {
            return displayName;
        }
    }
    
    public static class ActionDefinition {
        private String id;
        private String displayName;
        private String description;
        private ActionCategory category;
        private List<String> scriptPaths;
        private List<ActionParameter> parameters;
        private String iconEmoji;
        
        public ActionDefinition(String id, String displayName, String description, 
                              ActionCategory category, List<String> scriptPaths, 
                              List<ActionParameter> parameters, String iconEmoji) {
            this.id = id;
            this.displayName = displayName;
            this.description = description;
            this.category = category;
            this.scriptPaths = scriptPaths != null ? scriptPaths : new ArrayList<>();
            this.parameters = parameters != null ? parameters : new ArrayList<>();
            this.iconEmoji = iconEmoji;
        }
        
        // Getters
        public String getId() { return id; }
        public String getDisplayName() { return displayName; }
        public String getDescription() { return description; }
        public ActionCategory getCategory() { return category; }
        public List<String> getScriptPaths() { return scriptPaths; }
        public List<ActionParameter> getParameters() { return parameters; }
        public String getIconEmoji() { return iconEmoji; }
    }
    
    public static class ActionParameter {
        private String name;
        private String displayName;
        private ParameterType type;
        private boolean required;
        private List<String> options; // For SELECT type
        private String defaultValue;
        
        public ActionParameter(String name, String displayName, ParameterType type, boolean required) {
            this.name = name;
            this.displayName = displayName;
            this.type = type;
            this.required = required;
            this.options = new ArrayList<>();
        }
        
        public ActionParameter withOptions(List<String> options) {
            this.options = options;
            return this;
        }
        
        public ActionParameter withDefault(String defaultValue) {
            this.defaultValue = defaultValue;
            return this;
        }
        
        // Getters
        public String getName() { return name; }
        public String getDisplayName() { return displayName; }
        public ParameterType getType() { return type; }
        public boolean isRequired() { return required; }
        public List<String> getOptions() { return options; }
        public String getDefaultValue() { return defaultValue; }
    }
    
    public enum ParameterType {
        TEXT, SELECT, BOOLEAN, NUMBER
    }
    
    private static final List<ActionDefinition> ACTIONS = Arrays.asList(
        // WORKFLOW ACTIONS (NEW ARCHITECTURE)
        new ActionDefinition(
            "video_upload_workflow",
            "üé¨ Video Upload Workflow",
            "Tam video √ºretimi ve YouTube upload workflow'ƒ±nƒ± √ßalƒ±≈ütƒ±r",
            ActionCategory.WORKFLOWS,
            Arrays.asList("orchestrators/run_workflow.sh"),
            Arrays.asList(
                new ActionParameter("workflow_type", "Workflow", ParameterType.SELECT, false)
                    .withOptions(Arrays.asList("video_upload"))
                    .withDefault("video_upload"),
                new ActionParameter("channel", "Kanal", ParameterType.SELECT, false)
                    .withOptions(Arrays.asList("default", "youtube_only", "test_channel"))
                    .withDefault("default"),
                new ActionParameter("content_type", "ƒ∞√ßerik T√ºr√º", ParameterType.SELECT, false)
                    .withOptions(Arrays.asList("lofi", "meditation", "horoscope"))
                    .withDefault("lofi")
            ),
            "üé¨"
        ),
        
        new ActionDefinition(
            "social_only_workflow",
            "üì± Social Media Workflow",
            "Sadece sosyal medya i√ßerik √ºretimi ve payla≈üƒ±mƒ±",
            ActionCategory.WORKFLOWS,
            Arrays.asList("orchestrators/run_workflow.sh"),
            Arrays.asList(
                new ActionParameter("workflow_type", "Workflow", ParameterType.SELECT, false)
                    .withOptions(Arrays.asList("social_only"))
                    .withDefault("social_only"),
                new ActionParameter("channel", "Kanal", ParameterType.SELECT, false)
                    .withOptions(Arrays.asList("minimal", "social_only", "default"))
                    .withDefault("minimal"),
                new ActionParameter("content_type", "ƒ∞√ßerik T√ºr√º", ParameterType.SELECT, false)
                    .withOptions(Arrays.asList("lofi", "meditation", "horoscope"))
                    .withDefault("lofi")
            ),
            "üì±"
        ),
        
        new ActionDefinition(
            "full_pipeline_workflow",
            "üöÄ Full Pipeline Workflow",
            "Komple i√ßerik pipeline'ƒ± - video √ºretimi ve t√ºm platform payla≈üƒ±mƒ±",
            ActionCategory.WORKFLOWS,
            Arrays.asList("orchestrators/run_workflow.sh"),
            Arrays.asList(
                new ActionParameter("workflow_type", "Workflow", ParameterType.SELECT, false)
                    .withOptions(Arrays.asList("full_pipeline"))
                    .withDefault("full_pipeline"),
                new ActionParameter("channel", "Kanal", ParameterType.SELECT, false)
                    .withOptions(Arrays.asList("default", "youtube_only"))
                    .withDefault("default"),
                new ActionParameter("content_type", "ƒ∞√ßerik T√ºr√º", ParameterType.SELECT, false)
                    .withOptions(Arrays.asList("lofi", "meditation", "horoscope"))
                    .withDefault("lofi")
            ),
            "üöÄ"
        ),
        
        new ActionDefinition(
            "quick_social_post",
            "‚ö° Hƒ±zlƒ± Sosyal Medya",
            "Hƒ±zlƒ± tweet √ºretimi ve payla≈üƒ±mƒ±",
            ActionCategory.WORKFLOWS,
            Arrays.asList("orchestrators/quick_social_post.sh"),
            Arrays.asList(
                new ActionParameter("content_type", "ƒ∞√ßerik T√ºr√º", ParameterType.SELECT, true)
                    .withOptions(Arrays.asList("lofi", "meditation", "horoscope"))
                    .withDefault("lofi"),
                new ActionParameter("zodiac_sign", "Bur√ß (Horoscope i√ßin)", ParameterType.SELECT, false)
                    .withOptions(Arrays.asList("aries", "taurus", "gemini", "cancer", "leo", "virgo", 
                                             "libra", "scorpio", "sagittarius", "capricorn", "aquarius", "pisces"))
                    .withDefault("aries")
            ),
            "‚ö°"
        ),
        
        // VIDEO PRODUCTION
        new ActionDefinition(
            "generate_video",
            "üé• Video √úret",
            "AI ile arkaplan videosu √ºret",
            ActionCategory.VIDEO_PRODUCTION,
            Arrays.asList("generators/generate_video.sh"),
            Arrays.asList(
                new ActionParameter("content_type", "ƒ∞√ßerik T√ºr√º", ParameterType.SELECT, false)
                    .withOptions(Arrays.asList("lofi", "meditation", "horoscope"))
                    .withDefault("lofi")
            ),
            "üé•"
        ),
        
        new ActionDefinition(
            "generate_ai_background",
            "üé® AI Background √úret",
            "ChatGPT + DALL-E ile configuratif video background √ºret",
            ActionCategory.VIDEO_PRODUCTION,
            Arrays.asList("generators/generate_ai_video_background.sh"),
            Arrays.asList(
                new ActionParameter("content_type", "ƒ∞√ßerik T√ºr√º", ParameterType.SELECT, true)
                    .withOptions(Arrays.asList("lofi", "meditation", "horoscope"))
                    .withDefault("lofi")
            ),
            "üé®"
        ),
        
        // SOCIAL MEDIA
        new ActionDefinition(
            "generate_tweet",
            "üìù Tweet √úret",
            "AI ile tweet i√ßeriƒüi √ºret",
            ActionCategory.SOCIAL_MEDIA,
            Arrays.asList("generators/generate_tweet_advanced.sh"),
            Arrays.asList(
                new ActionParameter("content_type", "ƒ∞√ßerik T√ºr√º", ParameterType.SELECT, true)
                    .withOptions(Arrays.asList("lofi", "meditation", "horoscope"))
                    .withDefault("lofi"),
                new ActionParameter("zodiac_sign", "Bur√ß (Horoscope i√ßin)", ParameterType.SELECT, false)
                    .withOptions(Arrays.asList("aries", "taurus", "gemini", "cancer", "leo", "virgo", 
                                             "libra", "scorpio", "sagittarius", "capricorn", "aquarius", "pisces"))
                    .withDefault("aries")
            ),
            "üìù"
        ),
        
        new ActionDefinition(
            "post_tweet",
            "üê¶ Tweet G√∂nder",
            "√úretilen tweet'i Twitter'a g√∂nder",
            ActionCategory.SOCIAL_MEDIA,
            Arrays.asList("publishers/twitter/post_tweet.sh"),
            Arrays.asList(
                new ActionParameter("tweet_content", "Tweet ƒ∞√ßeriƒüi", ParameterType.TEXT, false)
                    .withDefault("")
            ),
            "üê¶"
        ),
        
        new ActionDefinition(
            "post_twitter_direct",
            "üê¶ Direkt Twitter Post",
            "Python ile direkt Twitter posting",
            ActionCategory.SOCIAL_MEDIA,
            Arrays.asList("publishers/twitter/post_to_twitter_simple.py"),
            Arrays.asList(
                new ActionParameter("content_type", "ƒ∞√ßerik T√ºr√º", ParameterType.SELECT, true)
                    .withOptions(Arrays.asList("lofi", "meditation", "horoscope"))
                    .withDefault("lofi"),
                new ActionParameter("zodiac_sign", "Bur√ß (Horoscope i√ßin)", ParameterType.SELECT, false)
                    .withOptions(Arrays.asList("aries", "taurus", "gemini", "cancer", "leo", "virgo", 
                                             "libra", "scorpio", "sagittarius", "capricorn", "aquarius", "pisces"))
                    .withDefault("aries")
            ),
            "üê¶"
        ),
        
        new ActionDefinition(
            "post_instagram_story",
            "üì± Instagram Story",
            "Instagram story payla≈ü",
            ActionCategory.SOCIAL_MEDIA,
            Arrays.asList("publishers/instagram/post_instagram_story.sh"),
            new ArrayList<>(),
            "üì±"
        ),
        
        // STREAMING
        new ActionDefinition(
            "upload_video",
            "‚¨ÜÔ∏è YouTube Upload",
            "Video'yu YouTube'a upload et",
            ActionCategory.STREAMING,
            Arrays.asList("publishers/youtube/upload_video.sh"),
            new ArrayList<>(),
            "‚¨ÜÔ∏è"
        ),
        
        new ActionDefinition(
            "start_stream",
            "üî¥ YouTube Stream",
            "YouTube canlƒ± yayƒ±nƒ± ba≈ülat",
            ActionCategory.STREAMING,
            Arrays.asList("publishers/youtube/upload_and_stream.sh"),
            new ArrayList<>(),
            "üî¥"
        ),
        
        // CONTENT MANAGEMENT
        new ActionDefinition(
            "generate_title",
            "üìÑ Ba≈ülƒ±k √úret",
            "AI ile video ba≈ülƒ±ƒüƒ± √ºret",
            ActionCategory.CONTENT_MANAGEMENT,
            Arrays.asList("generators/generate_title.sh"),
            new ArrayList<>(),
            "üìÑ"
        ),
        
        new ActionDefinition(
            "generate_description",
            "üìù A√ßƒ±klama √úret",
            "AI ile video a√ßƒ±klamasƒ± √ºret",
            ActionCategory.CONTENT_MANAGEMENT,
            Arrays.asList("generators/generate_description.sh"),
            new ArrayList<>(),
            "üìù"
        ),
        
        new ActionDefinition(
            "generate_thumbnail",
            "üñºÔ∏è Thumbnail √úret",
            "Videodan thumbnail √ºret",
            ActionCategory.CONTENT_MANAGEMENT,
            Arrays.asList("generators/generate_thumbnail_from_video.sh"),
            new ArrayList<>(),
            "üñºÔ∏è"
        ),
        
        // UTILITIES
        new ActionDefinition(
            "test_architecture",
            "üß™ Architecture Test",
            "Yeni shell script architecture'ƒ±nƒ± test et",
            ActionCategory.UTILITIES,
            Arrays.asList("utilities/test_architecture.sh"),
            Arrays.asList(
                new ActionParameter("test_type", "Test T√ºr√º", ParameterType.SELECT, false)
                    .withOptions(Arrays.asList("all", "deps", "config", "core", "workflows"))
                    .withDefault("all")
            ),
            "üß™"
        ),
        
        new ActionDefinition(
            "cleanup_system",
            "üßπ Sistem Temizliƒüi",
            "Chrome processes ve temp files temizliƒüi",
            ActionCategory.UTILITIES,
            Arrays.asList("utilities/auto_cleanup.sh"),
            new ArrayList<>(),
            "üßπ"
        ),
        
        new ActionDefinition(
            "quick_test",
            "‚ö° Hƒ±zlƒ± Test",
            "Sistem componentlerini hƒ±zlƒ± test et",
            ActionCategory.UTILITIES,
            Arrays.asList("utilities/quick_test.sh"),
            Arrays.asList(
                new ActionParameter("test_type", "Test T√ºr√º", ParameterType.SELECT, false)
                    .withOptions(Arrays.asList("all", "config", "tweet", "horoscope", "lofi"))
                    .withDefault("all")
            ),
            "‚ö°"
        )
    );
    
    public static List<ActionDefinition> getAllActions() {
        return new ArrayList<>(ACTIONS);
    }
    
    public static List<ActionDefinition> getActionsByCategory(ActionCategory category) {
        return ACTIONS.stream()
                .filter(action -> action.getCategory() == category)
                .collect(ArrayList::new, ArrayList::add, ArrayList::addAll);
    }
    
    public static Optional<ActionDefinition> getActionById(String id) {
        return ACTIONS.stream()
                .filter(action -> action.getId().equals(id))
                .findFirst();
    }
    
    public static List<ActionCategory> getAllCategories() {
        return Arrays.asList(ActionCategory.values());
    }
} 